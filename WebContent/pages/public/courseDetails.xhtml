<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/main_template.xhtml">

	<ui:define name="title">Zewail #{courseBean.thecourseSelected.name}</ui:define>


	<ui:define name="content">
	#{courseBean.refreshPage()} 
<style>
.boxOFChoose{
	    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.12), 0 4px 18px rgba(0, 0, 0, 0.24);
    margin: 3%;
    padding: 3%;
    border-radius: 14px;
}

.paybutn {
  background: #275573;
  background-image: -webkit-linear-gradient(top, #275573, #2980b9);
  background-image: -moz-linear-gradient(top, #275573, #2980b9);
  background-image: -ms-linear-gradient(top, #275573, #2980b9);
  background-image: -o-linear-gradient(top, #275573, #2980b9);
  background-image: linear-gradient(to bottom, #275573, #2980b9);
  -webkit-border-radius: 16;
  -moz-border-radius: 16;
  border-radius: 16px;
  font-family: Arial;
  color: #ffffff;
  font-size: 23px;
  padding: 10px 20px 10px 20px;
  text-decoration: none;
}

.paybutn:hover {
  background: #b6cddb;
  background-image: -webkit-linear-gradient(top, #b6cddb, #3498db);
  background-image: -moz-linear-gradient(top, #b6cddb, #3498db);
  background-image: -ms-linear-gradient(top, #b6cddb, #3498db);
  background-image: -o-linear-gradient(top, #b6cddb, #3498db);
  background-image: linear-gradient(to bottom, #b6cddb, #3498db);
  text-decoration: none;
}
</style>

   <!--Start Content-->
   <div class="content">
   
   
  
  <div class="services-content">
   		<div class="container item" data-aos="zoom-out" data-aos-duration="1000">
        	
            
            <div class="row">
					<div class="col-md-6">
						<div class="product-detail-slider">
							<div class="rslides" id="product-detail-slider">
								<h:graphicImage style="height:350px;" value="/images/?file=#{courseBean.thecourseSelected.getImage()}" alt=""/>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div id="courseDetails" class="product-detail-description">
						
							<h2>#{courseBean.thecourseSelected.name}</h2>
							
							<p class="price big dark">#{courseBean.thecourseSelected.price} LE</p>
							<p:outputPanel id="enrollmentPanel">
							<p:commandLink style="display:#{courseBean.getTheStateOfViewOfSelectedCourse(courseBean.thecourseSelected.id,0)}"  action="#{courseBean.enrollInCourse(courseBean.thecourseSelected.id)}"  class="btn btn-default btn-dark btn-medium btn-square">Enroll me in the course</p:commandLink>
							
							<p:outputLabel style="display:#{courseBean.getTheStateOfViewOfSelectedCourse(courseBean.thecourseSelected.id,1)}">You are Enrolled</p:outputLabel>
							
							
							<div class="boxOFChoose" style="display:#{courseBean.getTheStateOfViewOfSelectedCourse(courseBean.thecourseSelected.id,1)}">
							<p:outputLabel>Please note that your registration is not confirmed until you pay the deposit on the following link</p:outputLabel>
							<br></br>
							<br></br>
							<a class="paybutn" onclick="payNow();" >Pay now</a>
							
							<h:form>
							<p:remoteCommand  name="makeThePayment" action="#{courseBean.payForthisCourse()}" />
							</h:form>
						<!-- 	
							<p:commandLink style="background-color: #e06b6b;"  onclick="payNow();"  class="btn btn-default btn-dark btn-medium btn-square">Done the enrollment</p:commandLink>
							 -->
							</div>
							
							<p:commandLink style="background-color: #e06b6b;display:#{courseBean.getTheStateOfViewOfSelectedCourse(courseBean.thecourseSelected.id,1)}"  action="#{courseBean.cancelTheEnroll(courseBean.thecourseSelected.id)}"  class="btn btn-default btn-dark btn-medium btn-square">Cancel the enrollment</p:commandLink>
							
							
							</p:outputPanel>
							<div class="clearfix"></div>
							<br/>
							<p><strong>Categories:</strong>  #{courseBean.thecourseSelected.categories}</p>
							<ul class="boxed-social clearfix">
								<li style="float: none;"><a href="https://www.facebook.com/sharer/sharer.php?u=http://outreach.zclt.info/pages/public/courseDetails.xhtml?id=#{courseBean.thecourseSelected.id}" class="facebook"><i class="icon-euro"></i><p style="width: 135%;">Share On Facebook</p></a></li>
							</ul>
						</div>
					</div>
				</div>
				
				<script>
				function payNow(){
					showDim();
					var delayInMilliseconds = 500; //0.5 second

					setTimeout(function() {
					  makeThePayment();
					}, delayInMilliseconds);
					
				}
				
				</script>

 
				<div class="clearfix verticalTab item" data-aos="flip-right" data-aos-duration="1000" id="target">
					<ul class="resp-tabs-list">
						<li>Description</li>
					</ul>
					<div class="resp-tabs-container">
						<div>
							<h3>Description</h3>
							<p>#{courseBean.thecourseSelected.description}</p>
						</div>
					</div>
				</div>
				
				
				<div class="shop item" data-aos="zoom-out" data-aos-duration="1000">
					<h2 class="light"><strong>Related</strong> Courses</h2>
					<br/>
					<ul class="shop full-width clearfix list-unstyled">
					 <ui:repeat var="o" value="#{courseBean.courses}" varStatus="status">
	             
			                <div class="col-md-3 item" data-aos="flip-right" data-aos-duration="1000">
									<div class="product">
												<div class="product-thumb">
													<a><h:graphicImage style="    height: 193px;" value="/images/?file=#{o.getImage()}" alt=""/></a>
												</div>
												<div class="product-description clearfix">
													<h3><a href="courseDetails.xhtml?id=#{o.id}">#{o.name}</a></h3>
													<p class="price"> #{o.price} LE</p>
													<span class="double-border"></span>
													<p:outputPanel id="enrollmentPanel">
														<p:outputLabel style="display:#{programsBean.getTheStateOfViewOfSelectedCourse(o.id,1)}" class="product-cart-btn pull-left">You are Enrolled</p:outputLabel>
													</p:outputPanel>
													<a href="courseDetails.xhtml?id=#{o.id}" class="product-detail-btn pull-right"><i class="icon-browser"></i>Details</a>
												</div>
											</div>
											<br/>
											<br/>
								</div>
			            </ui:repeat>
					
					</ul>
				</div>
            
            
        </div>
   </div>
  
   
   </div>
   
  
   <!--End Content-->
   
<h:outputScript name="js/jquery.js"/>    
<script>

if(performance.navigation.type == 2){
	   location.reload(true);
	}

</script>
	</ui:define>
	
	
</ui:composition>
</html>
